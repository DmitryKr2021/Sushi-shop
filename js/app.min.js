(()=>{"use strict";class e{constructor(e){this.isOpen=!1,this.targetOpen={selector:!1,element:!1},this.previousOpen={selector:!1,element:!1},this.lastClosed={selector:!1,element:!1},this._dataValue=!1,this.hash=!1,this._reopen=!1,this._selectorOpen=!1,this.lastFocusEl=!1,this._focusEl=["a[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"button:not([disabled]):not([aria-hidden])","select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","area[href]","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'],this.options=Object.assign({logging:!1,init:!0,attributeOpenButton:"data-popup",attributeCloseButton:"data-close",fixElementSelector:"[data-lp]",youtubeAttribute:"data-youtube",setAutoplayYoutube:!0,classes:{popup:"popup",popupContent:"popup__content",popupActive:"popup_show",bodyActive:"popup-show",popupVideo:"popup__video"},focusCatch:!0,closeEsc:!0,bodyLock:!0,bodyLockDelay:500,hashSettings:{location:!0,goHash:!0},on:{beforeOpen:function(){},afterOpen:function(){},beforeClose:function(){},afterClose:function(){}}},e),e.init&&this.initPopups()}initPopups(){this.popupLogging("Проснулся"),this.eventsPopup()}eventsPopup(){document.addEventListener("click",function(e){const t=e.target.closest(`[${this.options.attributeOpenButton}]`);if(t)return e.preventDefault(),this._dataValue=t.getAttribute(this.options.attributeOpenButton)?t.getAttribute(this.options.attributeOpenButton):"error","error"!==this._dataValue?(this.isOpen||(this.lastFocusEl=t),this.targetOpen.selector=`${this._dataValue}`,this._selectorOpen=!0,void this.open()):void this.popupLogging(`Ой ой, не заполнен атрибут у ${t.classList}`);return e.target.closest(`[${this.options.attributeCloseButton}]`)||!e.target.closest(`.${this.options.classes.popupContent}`)&&this.isOpen?(e.preventDefault(),void this.close()):void 0}.bind(this)),document.addEventListener("keydown",function(e){if(this.options.closeEsc&&27==e.which&&"Escape"===e.code&&this.isOpen)return e.preventDefault(),void this.close();this.options.focusCatch&&9==e.which&&this.isOpen&&this._focusCatch(e)}.bind(this)),this.options.hashSettings.goHash&&(window.addEventListener("hashchange",function(){window.location.hash?this._openToHash():this.close(this.targetOpen.selector)}.bind(this)),window.addEventListener("load",function(){window.location.hash&&this._openToHash()}.bind(this)))}open(e){if(e&&"string"==typeof e&&""!==e.trim()&&(this.targetOpen.selector=e,this._selectorOpen=!0),this.isOpen&&(this._reopen=!0,this.close()),this._selectorOpen||(this.targetOpen.selector=this.lastClosed.selector),this._reopen||(this.previousActiveElement=document.activeElement),this.targetOpen.element=document.querySelector(this.targetOpen.selector),this.targetOpen.element){if(this.targetOpen.element.hasAttribute(this.options.youtubeAttribute)){const e=`https://www.youtube.com/embed/${this.targetOpen.element.getAttribute(this.options.youtubeAttribute)}?rel=0&showinfo=0&autoplay=1`,t=document.createElement("iframe");t.setAttribute("allowfullscreen","");const s=this.options.setAutoplayYoutube?"autoplay;":"";t.setAttribute("allow",`${s}; encrypted-media`),t.setAttribute("src",e),this.targetOpen.element.querySelector(`.${this.options.classes.popupVideo}`)&&this.targetOpen.element.querySelector(`.${this.options.classes.popupVideo}`).appendChild(t)}this.options.hashSettings.location&&(this._getHash(),this._setHash()),this.options.on.beforeOpen(this),this.targetOpen.element.classList.add(this.options.classes.popupActive),document.body.classList.add(this.options.classes.bodyActive),this._reopen?this._reopen=!1:i(),this.targetOpen.element.setAttribute("aria-hidden","false"),this.previousOpen.selector=this.targetOpen.selector,this.previousOpen.element=this.targetOpen.element,this._selectorOpen=!1,this.isOpen=!0,setTimeout((()=>{this._focusTrap()}),50),document.dispatchEvent(new CustomEvent("afterPopupOpen",{detail:{popup:this}})),this.popupLogging("Открыл попап")}else this.popupLogging("Ой ой, такого попапа нет. Проверьте корректность ввода. ")}close(e){e&&"string"==typeof e&&""!==e.trim()&&(this.previousOpen.selector=e),this.isOpen&&o&&(this.options.on.beforeClose(this),this.targetOpen.element.hasAttribute(this.options.youtubeAttribute)&&this.targetOpen.element.querySelector(`.${this.options.classes.popupVideo}`)&&(this.targetOpen.element.querySelector(`.${this.options.classes.popupVideo}`).innerHTML=""),this.previousOpen.element.classList.remove(this.options.classes.popupActive),this.previousOpen.element.setAttribute("aria-hidden","true"),this._reopen||(document.body.classList.remove(this.options.classes.bodyActive),i(),this.isOpen=!1),this._removeHash(),this._selectorOpen&&(this.lastClosed.selector=this.previousOpen.selector,this.lastClosed.element=this.previousOpen.element),this.options.on.afterClose(this),setTimeout((()=>{this._focusTrap()}),50),this.popupLogging("Закрыл попап"))}_getHash(){this.options.hashSettings.location&&(this.hash=this.targetOpen.selector.includes("#")?this.targetOpen.selector:this.targetOpen.selector.replace(".","#"))}_openToHash(){let e=document.querySelector(`.${window.location.hash.replace("#","")}`)?`.${window.location.hash.replace("#","")}`:document.querySelector(`${window.location.hash}`)?`${window.location.hash}`:null;document.querySelector(`[${this.options.attributeOpenButton}="${e}"]`)&&e&&this.open(e)}_setHash(){history.pushState("","",this.hash)}_removeHash(){history.pushState("","",window.location.href.split("#")[0])}_focusCatch(e){const t=this.targetOpen.element.querySelectorAll(this._focusEl),s=Array.prototype.slice.call(t),o=s.indexOf(document.activeElement);e.shiftKey&&0===o&&(s[s.length-1].focus(),e.preventDefault()),e.shiftKey||o!==s.length-1||(s[0].focus(),e.preventDefault())}_focusTrap(){const e=this.previousOpen.element.querySelectorAll(this._focusEl);!this.isOpen&&this.lastFocusEl?this.lastFocusEl.focus():e[0].focus()}popupLogging(e){this.options.logging&&console.log(`[Попапос]: ${e}`)}}let t=(e,t=500,s=0)=>{e.classList.contains("_slide")||(e.classList.add("_slide"),e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=`${e.offsetHeight}px`,e.offsetHeight,e.style.overflow="hidden",e.style.height=s?`${s}px`:"0px",e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,window.setTimeout((()=>{e.hidden=!s,!s&&e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),!s&&e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_slide")}),t))},s=(e,t=500,s=0)=>{if(!e.classList.contains("_slide")){e.classList.add("_slide"),e.hidden=!e.hidden&&null,s&&e.style.removeProperty("height");let o=e.offsetHeight;e.style.overflow="hidden",e.style.height=s?`${s}px`:"0px",e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetHeight,e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=o+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),window.setTimeout((()=>{e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_slide")}),t)}},o=!0,i=(e=500)=>{document.documentElement.classList.contains("lock")?n(e):l(e)},n=(e=500)=>{let t=document.querySelector("body");if(o){let s=document.querySelectorAll("[data-lp]");setTimeout((()=>{for(let e=0;e<s.length;e++){s[e].style.paddingRight="0px"}t.style.paddingRight="0px",document.documentElement.classList.remove("lock")}),e),o=!1,setTimeout((function(){o=!0}),e)}},l=(e=500)=>{let t=document.querySelector("body");if(o){let s=document.querySelectorAll("[data-lp]");for(let e=0;e<s.length;e++){s[e].style.paddingRight=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px"}t.style.paddingRight=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px",document.documentElement.classList.add("lock"),o=!1,setTimeout((function(){o=!0}),e)}};class r{constructor(e,t,s,o){this.name=e,this.description=t,this.price=s,this.img=o}}let c=[];const a={name:["Сет &rdquo;6 Филадельфий&rdquo;","Топовый сет","Камикадзе сет","Сет &rdquo;4 Филадельфии&rdquo;","Филадельфия LOVE сет","Якудза сет","Филадельфия и лосось сет 2"],description:["1050 грамм, 30 кусочков","1260 грамм, 36 кусочков","2050 грамм, 45 кусочков","1120 грамм, 40 кусочков","1320 грамм, 46 кусочков","1020 грамм, 40 кусочков","1020 грамм, 52 кусочка","1100 грамм, 32 кусочка","1000 грамм, 40 кусочков","1270 грамм, 50 кусочков","1260 грамм, 36 кусочков"],price:[1559,1519,1469,1559,1479,1499,1499],img:["05","06","07","08","09","10","11"]},d=(document.querySelector(".main__slider--news"),document.querySelector(".main__slider--popular"));function u(e,t,s){let o=document.createElement("div");o.classList.add("main__slider--card");let i=document.createElement("div");i.classList.add("main__slider--img"),i.style.backgroundImage=s+t.img+".png",o.append(i);let n=document.createElement("div");n.classList.add("main__slider--wrapper"),o.append(n);let l=document.createElement("p");l.classList.add("main__slider--title"),l.innerHTML=t.name,n.append(l);let r=document.createElement("p");r.classList.add("main__slider--text"),r.innerText=t.description,n.append(r);let a=document.createElement("div");a.classList.add("main__slider--price"),o.append(a);let d=document.createElement("div");d.classList.add("price-wrapper"),a.append(d);let u=document.createElement("div");u.classList.add("price-value"),u.innerHTML=t.price+"&#8381;",d.append(u);let p=document.createElement("button");p.classList.add("wont"),p.innerText="Хочу!",d.append(p),e.append(o),c.push(o)}!function(e,t){for(let s=0;s<e;s++){let e=new r(a.name[s],a.description[s],a.price[s],a.img[s]);u(t,e,"url(img/main_page/slide_popular/")}}(6,d);const p=document.querySelectorAll(".radio"),m=document.querySelectorAll(".main__hero--slide");let h,f;function g(e){for(let e of p)e.classList.contains("active")&&(h=e.id,e.classList.remove("active"));e.target.classList.add("active"),f=e.target.id,function(){for(let e of m){if(e.classList.contains(h)){e.classList.add("fade-out"),e.classList.remove("fade-in");setTimeout((()=>{e.classList.remove("show")}),1e3)}if(e.classList.contains(f)){setTimeout((()=>{e.classList.add("show"),e.classList.add("fade-in")}),400)}}}()}for(let e of p)e.onclick=g;const y=document.querySelectorAll(".tablinks"),b=document.querySelectorAll(".tabcontent");let v;for(let e of y)e.onclick=L;function L(e){for(let e=0;e<b.length;e++)b[e].style.display="none";v=e.currentTarget.value,function(e){"news"==e&&(S.classList.remove("hidden"),q.classList.remove("hidden"),k.classList.add("hidden"),A.classList.add("hidden"));"popular"==e&&(k.classList.remove("hidden"),A.classList.remove("hidden"),S.classList.add("hidden"),q.classList.add("hidden"))}(v);for(let e of y)e.classList.remove("active");e.currentTarget.classList.add("active");for(let t of b)t.getAttribute("data-id")==e.target.value?t.style.display="block":t.hasAttribute("data-id")&&(t.style.display="none")}const _=330,S=(document.querySelector(".main-wrapper"),y[0],y[1],document.querySelector(".prev")),q=document.querySelector(".next"),k=document.querySelector(".prev2"),A=document.querySelector(".next2"),E=document.querySelector(".main__slider--news"),w=document.querySelector(".main__slider--popular"),x=E.querySelectorAll(".main__slider--card"),O=w.querySelectorAll(".main__slider--card");let T=0,H=0;function I(){T>0?S.classList.remove("no-active"):S.classList.add("no-active"),H>0?k.classList.remove("no-active"):k.classList.add("no-active"),T>x.length-4?q.classList.add("no-active"):q.classList.remove("no-active"),H>x.length-4?A.classList.add("no-active"):A.classList.remove("no-active")}function C(e){if(this.el=this.getElement(e.selector),!this.el)return console.log("Что-то не так с селектором");this.layout=e.layout||"+_ (___) ___-__-__",this.maskreg=this.getRegexp(),this.setListeners()}q.addEventListener("click",(function(e){if(T<x.length-3){T++,I();for(let e of x)e.style.transition="0.3s",e.style.transform=`translateX(-${T*_}px)`}})),S.addEventListener("click",(function(e){if(T>0){T--,I();for(let e of x)e.style.transition="0.3s",e.style.transform=`translateX(-${T*_}px)`}})),A.addEventListener("click",(function(e){if(H<x.length-3){H++,I();for(let e of c)e.style.transition="0.3s",e.style.transform=`translateX(-${H*_}px)`}})),k.addEventListener("click",(function(e){if(H>0){H--,I();for(let e of O)e.style.transition="0.3s",e.style.transform=`translateX(-${H*_}px)`}})),window.addEventListener("DOMContentLoaded",(function(){let e=document.querySelectorAll('input[type="tel"]');Array.prototype.forEach.call(e,(function(e){new C({selector:e,layout:e.dataset.mask})}))})),C.prototype.getRegexp=function(){var e=this.layout.replace(/_/g,"\\d");return e=(e=(e=(e=e.replace(/\(/g,"\\(")).replace(/\)/g,"\\)")).replace(/\+/g,"\\+")).replace(/\s/g,"\\s")},C.prototype.mask=function(e){var t=e.target,s=this.layout,o=0,i=s.replace(/\D/g,""),n=t.value.replace(/\D/g,"");(i.length>=n.length&&(n=i),t.value=s.replace(/./g,(function(e){return/[_\d]/.test(e)&&o<n.length?n.charAt(o++):o>=n.length?"":e})),"blur"==e.type)?new RegExp(this.maskreg).test(t.value)||(t.value=""):this.setCursorPosition(t.value.length,t)},C.prototype.setCursorPosition=function(e,t){if(t.focus(),t.setSelectionRange)t.setSelectionRange(e,e);else if(t.createTextRange){var s=t.createTextRange();s.collapse(!0),s.moveEnd("character",e),s.moveStart("character",e),s.select()}},C.prototype.setListeners=function(){this.el.addEventListener("input",this.mask.bind(this),!1),this.el.addEventListener("focus",this.mask.bind(this),!1),this.el.addEventListener("blur",this.mask.bind(this),!1)},C.prototype.getElement=function(e){if(void 0===e)return!1;if(this.isElement(e))return e;if("string"==typeof e){var t=document.querySelector(e);if(this.isElement(t))return t}return!1},C.prototype.isElement=function(e){return e instanceof Element||e instanceof HTMLDocument};const $=document.querySelectorAll(".card-change");function M(e){j[e]=F;for(let e of $)e.addEventListener("click",P)}function P(e){for(let t of ge)if(t.classList.contains("active")){let s=t.id;if(e.target.classList.contains("back")){if(J.classList.remove("limit"),1==parseInt(j[s]))return void e.preventDefault();2==parseInt(j[s])&&Y.classList.add("limit"),j[s]="0"+(parseInt(j[s])-1),ee(j[s],s),se(j[s],be[s]),re(j[s],s)}if(e.target.classList.contains("forward")){if(Y.classList.remove("limit"),9==parseInt(j[s]))return void e.preventDefault();8==parseInt(j[s])&&J.classList.add("limit"),j[s]="0"+(parseInt(j[s])+1),ee(j[s],s),se(j[s],be[s]),re(j[s],s)}}}const D=document.querySelector(".main"),B=D.querySelector(".add-prev"),W=D.querySelector(".add-next"),N=D.querySelectorAll(".product__slider--slide");let R=0;function V(){R>0?B.classList.remove("no-active"):B.classList.add("no-active"),R>N.length-4?W.classList.add("no-active"):W.classList.remove("no-active")}W.addEventListener("click",(function(e){if(R<N.length-3){R++,V();for(let e of N)e.style.transition="0.3s",e.style.transform=`translateX(-${R*G}px)`}})),B.addEventListener("click",(function(e){if(R>0){R--,V();for(let e of N)e.style.transition="0.3s",e.style.transform=`translateX(-${R*G}px)`}}));let X,z,F;document.querySelector(".product__return--btn").onclick=()=>{ce.classList.remove("hide-block"),ae.classList.add("hide-block"),de.classList.add("hide-block");for(let e of ge)e.classList.remove("active");for(let e of ve)e.classList.add("hide-block")};let j={};const U=document.querySelector(".product__img"),Y=document.querySelector(".back"),J=document.querySelector(".forward");let K,G,Q="url(./img/product_cards/";function Z(e){if(e.target.classList.contains("wont"))It(e);else{if(ae.classList.add("hide-block"),de.classList.remove("hide-block"),z=localStorage.getItem("productsName"),e.target.classList.contains("panel-item")){const t=e.target.parentNode.querySelectorAll("li");let s;for(let o=0;o<t.length;o++)e.target==t[o]&&(s=""+ ++o);F=s.padStart(2,"0")}else X=e.currentTarget.firstChild.style.backgroundImage,F=X.slice(-8,-6);!function(e,t){1==parseInt(e)?Y.classList.add("limit"):Y.classList.remove("limit");9==parseInt(e)?J.classList.add("limit"):J.classList.remove("limit");M(t),ee(e,t),se(e,be[t]),re(e,t)}(F,z)}}function ee(e,t){U.style.backgroundImage=te(e,t)+"hero_img.png"}function te(e,t){return Q+t+"/"+e+"/"}function se(e,t){const s=e-1,o=document.querySelector(".product__info--title"),i=document.querySelector(".product__info--mass"),n=document.querySelector(".product__info--price"),l=document.querySelector(".composition");o.innerText=t.name[s],i.innerText=t.description[s],n.innerHTML=t.price[s]+"&#8381",l.innerText=t.composition[s];const r=document.createElement("button");n.appendChild(r),r.innerText="+"}const oe=D.querySelectorAll(".slide--img"),ie=document.querySelectorAll(".slide--title"),ne=document.querySelectorAll(".slide--price"),le=[{img:"01",name:"Филадельфия",price:"140"},{img:"02",name:"Банзай",price:"170"},{img:"03",name:"Аригато",price:"180"},{img:"01",name:"Филадельфия",price:"140"},{img:"02",name:"Банзай",price:"170"},{img:"03",name:"Аригато",price:"180"}];function re(e,t){for(let s=0;s<oe.length;s++)oe[s].style.backgroundImage=te(e,t)+"addition/"+le[s].img+".png",ie[s].innerText=le[s].name,ne[s].innerHTML=le[s].price+"&#8381;";K=D.querySelector(".product__slider--wrapper"),G=.33*K.offsetWidth,window.onresize=()=>{G=.33*K.offsetWidth}}const ce=document.querySelector(".main-wrapper"),ae=document.querySelector(".catalog"),de=document.querySelector(".product"),ue=document.querySelector(".order"),pe=document.querySelector(".catalog__name--title");let me,he;const fe=document.querySelector(".catalog__cards"),ge=document.querySelectorAll(".nav__li--link");class ye{constructor(e,t,s,o){this.name=e,this.description=t,this.price=s,this.img=o}}const be={pizza:{name:["Салями","Ветчина-грибы","Карбонара","Фирменная","Ассорти","Три сыра","Мясная","Сырная","Комби","Якудза","Тунец и лосось"],description:["1050 грамм","1260 грамм","2050 грамм","1120 грамм","1320 грамм","1020 грамм","1020 грамм","1100 грамм","1000 грамм","1270 грамм","1260 грамм"],price:[1500,1150,2100,1499,1559,1519,1469,1559,1479,1499,1499],img:["01","02","03","04","05","06","07","08","09","10","11"],composition:['Тунец, сыр "Камамбер", огурец','Лосось, сыр "Филадельфия", огурец, авокадо','Лосось, сыр "Филадельфия", огурец, авокадо','Лосось, сыр "Филадельфия", огурец, авокадо','Лосось, сыр "Филадельфия", огурец, авокадо','Лосось, сыр "Филадельфия", огурец, авокадо','Лосось, сыр "Филадельфия", огурец, авокадо','Лосось, сыр "Филадельфия", огурец, авокадо','Лосось, сыр "Филадельфия", огурец, авокадо','Лосось, сыр "Филадельфия", огурец, авокадо','Лосось, сыр "Филадельфия", огурец, авокадо','Лосось, сыр "Филадельфия", огурец, авокадо']},sets:{name:["Саломон сет","Филадельфия и лосось сет","Самая большая Филадельфия","Сет 5 Филадельфий","Сет 6 Филадельфий","Топовый сет","Камикадзе сет","Сет 4 Филадельфии","Филадельфия LOVE сет","Якудза сет","Филадельфия и лосось сет 2"],description:["1050 грамм, 30 кусочков","1260 грамм, 36 кусочков","2050 грамм, 45 кусочков","1120 грамм, 40 кусочков","1320 грамм, 46 кусочков","1020 грамм, 40 кусочков","1020 грамм, 52 кусочка","1100 грамм, 32 кусочка","1000 грамм, 40 кусочков","1270 грамм, 50 кусочков","1260 грамм, 36 кусочков"],price:[1500,1150,2100,1499,1559,1519,1469,1559,1479,1499,1499],img:["01","02","03","04","05","06","07","08","09","10","11"],composition:['Тунец, сыр "Камамбер", огурец','Лосось, сыр "Филадельфия", огурец, авокадо','Лосось, сыр "Филадельфия", огурец, авокадо','Лосось, сыр "Филадельфия", огурец, авокадо','Лосось, сыр "Филадельфия", огурец, авокадо','Лосось, сыр "Филадельфия", огурец, авокадо','Лосось, сыр "Филадельфия", огурец, авокадо','Лосось, сыр "Филадельфия", огурец, авокадо','Лосось, сыр "Филадельфия", огурец, авокадо','Лосось, сыр "Филадельфия", огурец, авокадо','Лосось, сыр "Филадельфия", огурец, авокадо','Лосось, сыр "Филадельфия", огурец, авокадо']}};for(let e of ge)e.onclick=e=>{for(let e of ge)e.classList.remove("active");e.target.classList.add("active"),pe.innerText=e.target.innerText,me=e.target.id,localStorage.setItem("productsName",me),pe.style.backgroundImage='url("img/svg/'+me+".svg",ce.classList.add("hide-block"),de.classList.add("hide-block"),ue.classList.add("hide-block"),ae.classList.remove("hide-block"),he="url(img/products/"+me+"/",function(e){const t=e.querySelectorAll(".main__slider--card");for(let e of t)e.remove()}(fe),function(e,t){for(let s=0;s<e;s++){let e=me,o=new ye(be[e].name[s],be[e].description[s],be[e].price[s],be[e].img[s]);_e(t,o,he)}}(9,fe),Le(e.target)};const ve=document.querySelectorAll(".nav__li--panel");for(let e of ve){const t=e.previousElementSibling.id;for(let s in be)if(s==t)for(let t of be[s].name){const s=document.createElement("li");s.classList.add("panel-item"),s.innerText=t,e.append(s),s.addEventListener("click",Z)}}function Le(e){const t=e.nextElementSibling;for(let e of ve)e.classList.add("hide-block"),t.style.maxHeight&&(t.style.maxHeight=null);t.classList.remove("hide-block"),t.style.maxHeight=t.scrollHeight+"px"}function _e(e,t,s){let o=document.createElement("div");o.classList.add("main__slider--card"),o.classList.add("catalog-card");let i=document.createElement("div");i.classList.add("main__slider--img"),i.style.backgroundImage=s+t.img+".png",o.append(i);let n=document.createElement("div");n.classList.add("main__slider--wrapper"),o.append(n);let l=document.createElement("p");l.classList.add("main__slider--title"),l.innerHTML=t.name,n.append(l);let r=document.createElement("p");r.classList.add("main__slider--text"),r.innerText=t.description,n.append(r);let c=document.createElement("div");c.classList.add("main__slider--price"),o.append(c);let a=document.createElement("div");a.classList.add("price-wrapper"),c.append(a);let d=document.createElement("div");d.classList.add("price-value"),d.innerHTML=t.price+"&#8381;",a.append(d);let u=document.createElement("button");u.classList.add("wont"),u.innerText="Хочу!",a.append(u),e.append(o),o.addEventListener("click",Z),o.addEventListener("build",Se,!0)}function Se(e){localStorage.setItem("dataCard",JSON.stringify(e.detail))}document.querySelector(".catalog__return--btn").onclick=()=>{ce.classList.remove("hide-block"),ae.classList.add("hide-block");for(let e of ge)e.classList.remove("active");for(let e of ve)e.classList.add("hide-block")};const qe=document.querySelectorAll(".main__about--3"),ke=document.querySelectorAll(".main__about--4"),Ae=document.querySelectorAll(".main__about--more"),Ee=document.querySelectorAll(".about--more"),we=document.querySelectorAll(".bg-down");let xe=!1;for(let e=0;e<Ae.length;e++)Ae[e].onclick=t=>{xe=!xe,qe[e].classList.toggle("de-color"),ke[e].classList.toggle("hidden"),we[e].classList.toggle("bg-rotate"),Ee[e].innerHTML=xe?"Свернуть":"Подробнее"};const Oe=document.querySelector(".sendvich"),Te=document.querySelector(".aside-menu"),He=document.querySelector(".menu-btn");Oe.onclick=function(e){He.classList.toggle("menu-btn_checked"),Te.classList.toggle("hide-aside-menu"),Te.classList.toggle("show-aside-menu")};const Ie=document.querySelector(".mobile"),Ce=document.querySelector(".footer-mobile"),$e=document.querySelector(".order-mobile"),Me=Ce.querySelector(".menu"),Pe=document.querySelector(".mobile-card"),De=document.querySelectorAll(".card-change"),Be=document.querySelector(".mobile-product__img"),We=document.querySelector(".mobile-back"),Ne=document.querySelector(".mobile-forward"),Re=document.querySelectorAll(".main-mobile__card"),Ve=Pe.querySelectorAll(".slide--img"),Xe=Pe.querySelectorAll(".slide--title"),ze=Pe.querySelectorAll(".slide--price");let Fe,je="01";for(let e of Re)e.onclick=Ue;for(let e of De)e.addEventListener("click",Ke);function Ue(e){Pe.classList.remove("hide-block"),Ie.classList.add("hide-block"),Fe=e.target.className.substring(32),Ye(je,Fe),Je(je,be[Fe]),Ze(je,Fe)}function Ye(e,t){Be.style.backgroundImage=Q+t+"/"+e+"/hero_img.png"}function Je(e,t){const s=e-1,o=Pe.querySelector(".mobile-product__info--title"),i=Pe.querySelector(".mobile-product__info--mass"),n=Pe.querySelector(".mobile-product__info--price"),l=Pe.querySelector(".mobile-composition");o.innerText=t.name[s],i.innerText=t.description[s],n.innerHTML=t.price[s]+"&#8381",l.innerText=t.composition[s]}function Ke(e){if(e.target.classList.contains("mobile-back")){if(Ne.classList.remove("limit"),1==parseInt(je))return void e.preventDefault();2==parseInt(je)&&We.classList.add("limit"),je="0"+(parseInt(je)-1),Ye(je,Fe),Je(je,be[Fe]),Ze(je,Fe)}if(e.target.classList.contains("mobile-forward")){if(We.classList.remove("limit"),9==parseInt(je))return void e.preventDefault();8==parseInt(je)&&Ne.classList.add("limit"),je="0"+(parseInt(je)+1),Ye(je,Fe),Je(je,be[Fe]),Ze(je,Fe)}}let Ge,Qe=Pe.querySelector(".product__slider--wrapper");function Ze(e,t){for(let s=0;s<Ve.length;s++)Ve[s].style.backgroundImage=Q+t+"/"+e+"//addition/"+le[s].img+".png",Xe[s].innerText=le[s].name,ze[s].innerHTML=le[s].price+"&#8381;"}window.onclick=()=>{Ge=.5*Qe.offsetWidth},window.onresize=()=>{Ge=.5*Qe.offsetWidth};const et=Pe.querySelector(".add-prev"),tt=Pe.querySelector(".add-next"),st=Pe.querySelectorAll(".product__slider--slide");let ot=0;function it(){ot>0?et.classList.remove("no-active"):et.classList.add("no-active"),ot>st.length-4?tt.classList.add("no-active"):tt.classList.remove("no-active")}tt.addEventListener("click",(function(e){if(ot<st.length-3){ot++,it();for(let e of st)e.style.transition="0.3s",e.style.transform=`translateX(-${ot*Ge}px)`}})),et.addEventListener("click",(function(e){if(ot>0){ot--,it();for(let e of st)e.style.transition="0.3s",e.style.transform=`translateX(-${ot*Ge}px)`}}));const nt=document.querySelector(".footer-mobile__menu").querySelector(".footer-basket"),lt=document.querySelector(".basket-mobile"),rt=lt.querySelector(".basket"),ct=lt.querySelector(".basket__full"),at=lt.querySelector(".basket__empty"),dt=lt.querySelector(".basket__close");nt.onclick=function(e){const t=rt.querySelector(".totalSum__cost");rt.classList.remove("basket-aside"),lt.classList.remove("hide-block"),0==t.innerHTML?(ct.classList.add("to-hide"),at.classList.remove("to-hide")):(ct.classList.remove("to-hide"),at.classList.add("to-hide"));window.scrollBy({top:-2500,behavior:"smooth"})},dt.onclick=function(e){rt.classList.add("basket-aside")},Me.onclick=()=>{Pe.classList.add("hide-block"),$e.classList.add("hide-block"),Ie.classList.remove("hide-block"),window.scrollBy({top:-2500,behavior:"smooth"})};const ut=document.querySelector("body"),pt=document.querySelector(".order-mobile"),mt=document.querySelector(".body-container"),ht=mt.querySelector(".header__main--basket"),ft=document.documentElement.clientWidth,gt=document.querySelector(".basket-mobile"),yt=ft>580?mt:gt,bt=yt.querySelector(".basket__full--wrap"),vt=yt.querySelector(".basket"),Lt=yt.querySelector(".basket__full"),_t=yt.querySelector(".basket__empty"),St=yt.querySelector(".basket__full--order"),qt=yt.querySelector(".basket__close"),kt=yt.querySelector(".basket__pointer"),At=yt.querySelector(".result__time"),Et=yt.querySelector(".basket__map"),wt=yt.querySelector(".basket__giveadress"),xt=yt.querySelector(".basket__gettime"),Ot=yt.querySelector("#map");document.documentElement.clientWidth<580&&mt.querySelector(".basket").remove(),kt.addEventListener("click",(function(e){Et.classList.add("to-hide"),kt.classList.add("to-hide"),wt.classList.add("to-hide"),xt.classList.add("to-hide"),Ot.classList.remove("to-hide"),At.classList.remove("to-hide")})),ht.onclick=()=>{ut.classList.toggle("body"),vt.classList.toggle("basket-aside")},qt.onclick=()=>{ut.classList.remove("body"),vt.classList.add("basket-aside")};class Tt{constructor(e,t,s){this.img=e,this.name=t,this.price=s}}const Ht=document.querySelectorAll(".wont");for(let e of Ht)e.onclick=It;function It(e){let t,s,o;const i=e.target.parentNode;if(i.classList.contains("content")){t=i.querySelector(".title").innerText,s=i.querySelector(".new-price").innerText;let e=getComputedStyle(i.parentNode).background;o=e.substring(e.indexOf("img"),e.indexOf('")'))}if(i.classList.contains("price-wrapper")){const e=i.closest(".main__slider--card");t=e.querySelector(".main__slider--title").innerText,s=e.querySelector(".price-value").innerText;let n=getComputedStyle(e.querySelector(".main__slider--img")).background;o=n.substring(n.indexOf("img"),n.indexOf('")'))}if(i.classList.contains("product__info")){const e=i.closest(".product__info");t=e.querySelector(".product__info--title").innerText,s=e.querySelector(".product__info--price").innerText;let n=getComputedStyle(e.previousElementSibling).background;o=n.substring(n.indexOf("img"),n.indexOf('")'))}const n=document.querySelector(".product__slider--wrapper").querySelectorAll(".plus");for(let e of n)e.onclick=e=>{const i=e.target.parentNode.closest(".slide");t=i.querySelector(".slide--title").innerHTML,s=i.querySelector(".slide--price").innerHTML;const n=i.querySelector(".slide--img");let l=getComputedStyle(n).background;o=l.substring(l.indexOf("img"),l.indexOf('")')),Ct(o,t,s)};if(i.classList.contains("mobile-product__wont")){const e=i.closest(".mobile-product__info");t=e.querySelector(".mobile-product__info--title").innerText,s=e.querySelector(".mobile-product__info--price").innerText;let n=getComputedStyle(e.previousElementSibling).background;o=n.substring(n.indexOf("img"),n.indexOf('")'))}const l=document.querySelector(".mobile-card").querySelector(".product__slider--wrapper").querySelectorAll(".plus");for(let e of l)e.onclick=e=>{const i=e.target.parentNode.closest(".slide");t=i.querySelector(".slide--title").innerHTML,s=i.querySelector(".slide--price").innerHTML;const n=i.querySelector(".slide--img");let l=getComputedStyle(n).background;o=l.substring(l.indexOf("img"),l.indexOf('")')),Ct(o,t,s)};Ct(o,t,s)}function Ct(e,t,s){!function(e){const t=document.querySelector(".basket__full--string"),s=document.createElement("div");s.innerHTML=t.innerHTML,bt.append(s),s.classList.add("basket__full--string");s.querySelector(".td_name").innerText=e.name;const o=s.querySelector(".string_sum");o.innerHTML=e.price,o.setAttribute("this-price",e.price);s.querySelector(".td_img").style.backgroundImage="url(./"+e.img+")";const i=document.querySelectorAll(".button-right"),n=yt.querySelectorAll(".button-left"),l=e=>{e.target.nextElementSibling.stepDown();let t=parseInt(e.target.parentNode.nextElementSibling.getAttribute("this-price"));e.target.parentNode.nextElementSibling.innerHTML=t*e.target.nextElementSibling.value+"&#8381;",Mt(),Pt(),0==e.target.nextElementSibling.value&&e.target.closest(".basket__full--string").remove()},r=e=>{e.target.previousElementSibling.stepUp();let t=parseInt(e.target.parentNode.nextElementSibling.getAttribute("this-price"));e.target.parentNode.nextElementSibling.innerHTML=t*e.target.previousElementSibling.value+"&#8381;",Mt(),Pt()};for(let e of n)e.onclick=l;for(let e of i)e.onclick=r}(new Tt(e,t,s)),_t.classList.add("to-hide"),Lt.classList.remove("to-hide"),Mt(),Pt()}let $t;function Mt(){const e=ft>580?mt:gt,t=e.querySelectorAll(".string_sum");$t=e.querySelector(".totalSum__cost");let s=0;for(let e=1;e<t.length;e++)s+=parseInt(t[e].innerHTML);$t.innerHTML=s+"&nbsp;&#8381;",0==s&&(Lt.classList.add("to-hide"),_t.classList.remove("to-hide"))}function Pt(){const e=ft>580?mt:gt,t=e.querySelector(".discount");"sushi2022"===e.querySelector(".set-coupon").value?(t.innerHTML=Math.floor(.8*parseInt($t.innerHTML))+"&nbsp;&#8381;",$t.classList.add("denied")):(t.innerHTML=$t.innerHTML,$t.classList.remove("denied"))}yt.querySelector(".btn_coupon").onclick=Pt,St.onclick=e=>{ue.classList.remove("hide-block"),ce.classList.add("hide-block"),ae.classList.add("hide-block"),de.classList.add("hide-block"),ut.offsetWidth<1520&&(ut.classList.remove("body"),vt.classList.add("basket-aside")),ut.offsetWidth<580&&(pt.classList.remove("hide-block"),Pe.classList.add("hide-block"),Ie.classList.add("hide-block"))};const Dt=document.querySelector(".order-m"),Bt=document.documentElement.clientWidth>580?document:Dt,Wt=Bt.querySelector(".change-sum"),Nt=Bt.querySelector("#change-sum"),Rt=Bt.querySelector(".cash"),Vt=Bt.querySelector(".card"),Xt=Bt.querySelector(".courier"),zt=Bt.querySelector(".self"),Ft=Bt.querySelector(".now"),jt=Bt.querySelector(".time");function Ut(e,t){e.style.backgroundColor="#ff9846",e.style.color="#ffffff",t.style.backgroundColor="#ffffff",t.style.color="#000000"}Vt.style.color="#000000",zt.style.color="#000000",jt.style.color="#000000",Vt.onclick=()=>{Ut(Vt,Rt),Vt.style.backgroundImage="url(./img/svg/card-white.svg)",Rt.style.backgroundImage="url(./img/svg/cash-black.svg)"},Rt.onclick=()=>{Ut(Rt,Vt),Rt.style.backgroundImage="url(./img/svg/cash.svg)",Vt.style.backgroundImage="url(./img/svg/card.svg)"},Xt.onclick=()=>{Ut(Xt,zt)},zt.onclick=()=>{Ut(zt,Xt)},Ft.onclick=()=>{Ut(Ft,jt)},jt.onclick=()=>{Ut(jt,Ft)};const Yt=document.querySelector(".order__return--btn");let Jt=!0;Wt.onclick=()=>{Jt=!Jt,Wt.classList.toggle("change-color"),Jt?(Nt.value="",Nt.setAttribute("disabled","disabled")):Nt.removeAttribute("disabled")},Yt.onclick=()=>{ue.classList.add("hide-block"),ce.classList.remove("hide-block");for(let e of ve)e.classList.add("hide-block")};const Kt=document.querySelectorAll(".color-themes"),Gt=document.querySelector("body"),Qt=document.querySelector(".header__main--search"),Zt=document.querySelector(".header-mobile__color--themes"),es=Zt.querySelectorAll("input"),ts=Zt.querySelectorAll("label"),ss=document.querySelector(".header__color--themes"),os=ss.querySelectorAll("input"),is=ss.querySelectorAll("label");for(let e of Kt)e.onclick=ns;function ns(e){"dark"==e.target.id?(Gt.classList.add("dark-theme"),Qt.classList.add("dark-theme")):(Gt.classList.remove("dark-theme"),Qt.classList.remove("dark-theme"))}for(let e of ts)e.onclick=ls;function ls(e){for(let e of es)e.classList.remove("orange");e.target.previousElementSibling.classList.add("orange")}for(let e of is)e.onclick=rs;function rs(e){for(let e of os)e.classList.remove("orange");e.target.previousElementSibling.classList.add("orange")}!function(e){let t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}((function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)})),function(){let e=document.querySelector(".icon-menu");e&&e.addEventListener("click",(function(e){o&&(i(),document.documentElement.classList.toggle("menu-open"),document.documentElement.classList.contains("catalog-open")&&document.documentElement.classList.remove("catalog-open"),document.documentElement.classList.contains("sub-menu-open")&&document.documentElement.classList.remove("sub-menu-open"))}))}(),function(){const e=document.querySelectorAll("[data-spollers]");if(e.length>0){const o=Array.from(e).filter((function(e,t,s){return!e.dataset.spollers.split(",")[0]}));o.length>0&&n(o);const i=Array.from(e).filter((function(e,t,s){return e.dataset.spollers.split(",")[0]}));if(i.length>0){const e=[];i.forEach((t=>{const s={},o=t.dataset.spollers.split(",");s.value=o[0],s.type=o[1]?o[1].trim():"max",s.item=t,e.push(s)}));let t=e.map((function(e){return"("+e.type+"-width: "+e.value+"px),"+e.value+","+e.type}));t=t.filter((function(e,t,s){return s.indexOf(e)===t})),t.forEach((t=>{const s=t.split(","),o=s[1],i=s[2],l=window.matchMedia(s[0]),r=e.filter((function(e){if(e.value===o&&e.type===i)return!0}));l.addEventListener("change",(function(){n(r,l)})),n(r,l)}))}function n(e,t=!1){e.forEach((e=>{e=t?e.item:e,t.matches||!t?(e.classList.add("_spoller-init"),l(e),e.addEventListener("click",r)):(e.classList.remove("_spoller-init"),l(e,!1),e.removeEventListener("click",r))}))}function l(e,t=!0){const s=e.querySelectorAll("[data-spoller]");s.length>0&&s.forEach((e=>{t?(e.removeAttribute("tabindex"),e.classList.contains("_spoller-active")||(e.nextElementSibling.hidden=!0)):(e.setAttribute("tabindex","-1"),e.nextElementSibling.hidden=!1)}))}function r(e){const o=e.target;if(o.hasAttribute("data-spoller")||o.closest("[data-spoller]")){const i=o.hasAttribute("data-spoller")?o:o.closest("[data-spoller]"),n=i.closest("[data-spollers]"),l=!!n.hasAttribute("data-one-spoller");n.querySelectorAll("._slide").length||(l&&!i.classList.contains("_spoller-active")&&c(n),i.classList.toggle("_spoller-active"),((e,o=500)=>{e.hidden?s(e,o):t(e,o)})(i.nextElementSibling,500)),e.preventDefault()}}function c(e){const s=e.querySelector("[data-spoller]._spoller-active");s&&(s.classList.remove("_spoller-active"),t(s.nextElementSibling,500))}}}(),function(){const e=document.querySelectorAll("[data-tabs]");let o=[];if(e.length>0){const t=location.hash.replace("#","");t.startsWith("tab-")&&(o=t.replace("tab-","").split("-")),e.forEach(((e,t)=>{e.classList.add("_tab-init"),e.setAttribute("data-tabs-index",t),e.addEventListener("click",n),function(e){const t=e.querySelectorAll("[data-tabs-titles]>*"),s=e.querySelectorAll("[data-tabs-body]>*"),i=e.dataset.tabsIndex,n=o[0]==i;if(n){e.querySelector("[data-tabs-titles]>._tab-active").classList.remove("_tab-active")}s.length>0&&s.forEach(((e,s)=>{t[s].setAttribute("data-tabs-title",""),e.setAttribute("data-tabs-item",""),n&&s==o[1]&&t[s].classList.add("_tab-active"),e.hidden=!t[s].classList.contains("_tab-active")}))}(e)}));const s=Array.from(e).filter((function(e,t,s){return e.dataset.tabs}));s.length>0&&function(e){const t=[];e.forEach((e=>{const s=e.dataset.tabs,o={};o.value=s,o.item=e,t.push(o)}));let s=t.map((function(e){return`(max-width:${e.value}px),${e.value}`}));s=s.filter((function(e,t,s){return s.indexOf(e)===t})),s.forEach((e=>{const s=e.split(","),o=window.matchMedia(s[0]),n=s[1],l=t.filter((function(e){if(e.value===n)return!0}));o.addEventListener("change",(function(){i(l,o)})),i(l,o)}))}(s)}function i(e,t){e.forEach((e=>{const s=(e=e.item).querySelector("[data-tabs-titles]"),o=e.querySelectorAll("[data-tabs-title]"),i=e.querySelector("[data-tabs-body]");e.querySelectorAll("[data-tabs-item]").forEach(((n,l)=>{t.matches?(i.append(o[l]),i.append(n),e.classList.add("_tab-spoller")):(s.append(o[l]),e.classList.remove("_tab-spoller"))}))}))}function n(e){const o=e.target;if(o.closest("[data-tabs-title]")){const i=o.closest("[data-tabs-title]"),n=i.closest("[data-tabs]");if(!i.classList.contains("_tab-active")&&!n.querySelectorAll("._slide").length){const e=n.querySelector("[data-tabs-title]._tab-active");e&&e.classList.remove("_tab-active"),i.classList.add("_tab-active"),function(e){const o=e.querySelectorAll("[data-tabs-title]"),i=e.querySelectorAll("[data-tabs-item]"),n=e.dataset.tabsIndex,l=function(e){if(e.hasAttribute("data-tabs-animate"))return e.dataset.tabsAnimate>0?e.dataset.tabsAnimate:500}(e);i.length>0&&i.forEach(((e,i)=>{o[i].classList.contains("_tab-active")?(l?s(e,l):e.hidden=!1,location.hash=`tab-${n}-${i}`):l?t(e,l):e.hidden=!0}))}(n)}e.preventDefault()}}}(),((t=!1,s=!0)=>{new e({logging:t,init:s})})(!1)})();